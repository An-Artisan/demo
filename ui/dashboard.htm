<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>币币交易平台</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        body {
            font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
            background: #f2f3f5;
            margin: 0;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: auto; }
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .header select { padding: 6px 10px; font-size: 16px; border-radius: 5px; border: 1px solid #ccc; }
        .info-bar { background: #fff; padding: 15px 20px; border-radius: 8px; font-size: 16px; box-shadow: 0 2px 6px rgba(0,0,0,0.05); margin-bottom: 15px; }
        .info-bar.up { color: green; }
        .info-bar.down { color: red; }
        .grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .kline-box { background: #fff; border-radius: 10px; padding: 10px; box-shadow: 0 1px 6px rgba(0,0,0,0.05); height: 450px; }
        #klineChart { width: 100%; height: 100%; }
        .panel-wrap { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-top: 20px; }
        .panel { background: #fff; border-radius: 10px; padding: 15px; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
        .panel h3 { font-size: 18px; margin-bottom: 12px; border-bottom: 1px solid #eee; padding-bottom: 8px; }
        table { width: 100%; border-collapse: collapse; }
        th, td { text-align: left; padding: 6px 8px; font-size: 14px; }
        tr:nth-child(even) { background: #fafafa; }
        th { background: #f0f0f0; font-weight: bold; }
        .trade-form input, .trade-form select, .trade-form button {
            width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 5px; font-size: 14px; border: 1px solid #ccc;
        }
        .trade-form button { background-color: #12b886; color: white; font-weight: bold; cursor: pointer; border: none; }
        .trade-form button:hover { background-color: #0ca678; }
        .tabs { margin-top: 30px; display: flex; gap: 10px; justify-content: center; }
        .tabs button { padding: 8px 20px; border: none; background: #ddd; border-radius: 5px; font-size: 14px; cursor: pointer; }
        .tabs button:hover { background: #bbb; }
        .tab-content { margin-top: 10px; background: #fff; border-radius: 8px; padding: 20px; box-shadow: 0 1px 6px rgba(0,0,0,0.05); }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <label>
            币种选择：
            <select id="coinPairSelect"></select>
        </label>
        <div class="info-bar" id="marketInfo">当前币种: BTC/USDT，价格: --，涨幅: --</div>
    </div>
    <div class="grid">
        <div class="kline-box">
            <div id="klineChart"></div>
        </div>
        <div class="panel">
            <h3>最新成交</h3>
            <table id="tradeTable"></table>
        </div>
    </div>
    <div class="panel-wrap">
        <div class="panel">
            <h3>盘口</h3>
            <table id="orderBookTable"></table>
        </div>
        <div class="panel trade-form">
            <h3>交易</h3>
            <select id="orderType">
                <option value="limit">限价</option>
                <option value="market">市价</option>
            </select>
            <input type="number" id="priceInput" placeholder="价格（USDT）">
            <input type="number" id="amountInput" placeholder="数量（BTC）">
            <button onclick="placeOrder()">买入</button>
        </div>
        <div class="panel">
            <h3>资产</h3>
            <table id="assetTable"></table>
        </div>
    </div>
    <div class="tabs">
        <button onclick="loadTab('current')">当前委托</button>
        <button onclick="loadTab('history')">委托历史</button>
        <button onclick="loadTab('trades')">成交记录</button>
    </div>
    <div class="tab-content">
        <table id="tabTable"></table>
    </div>
</div>

<script>
    const useAjax = false;
    let currentTab = 'current';
    let currentCoin = 'BTC';

<a href="/logout" style="display:inline-block;margin-top:20px;color:#007bff;text-decoration:underline;">退出登录</a>
